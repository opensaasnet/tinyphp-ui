/*! For license information please see dataTables.searchBuilder.min.js.LICENSE.txt */
!function(){var t,i,e,n=window.moment,s=window.luxon,o=function(e,n,s,a,r){var d=this;if(void 0===a&&(a=0),void 0===r&&(r=1),!i||!i.versionCheck||!i.versionCheck("1.10.0"))throw Error("SearchPane requires DataTables 1.10 or newer");if(this.classes=t.extend(!0,{},o.classes),this.c=t.extend(!0,{},o.defaults,t.fn.dataTable.ext.searchBuilder,n),n=this.c.i18n,this.s={condition:void 0,conditions:{},data:void 0,dataIdx:-1,dataPoints:[],dateFormat:!1,depth:r,dt:e,filled:!1,index:a,topGroup:s,type:"",value:[]},this.dom={buttons:t("<div/>").addClass(this.classes.buttonContainer),condition:t("<select disabled/>").addClass(this.classes.condition).addClass(this.classes.dropDown).addClass(this.classes.italic).attr("autocomplete","hacking"),conditionTitle:t('<option value="" disabled selected hidden/>').text(this.s.dt.i18n("searchBuilder.condition",n.condition)),container:t("<div/>").addClass(this.classes.container),data:t("<select/>").addClass(this.classes.data).addClass(this.classes.dropDown).addClass(this.classes.italic),dataTitle:t('<option value="" disabled selected hidden/>').text(this.s.dt.i18n("searchBuilder.data",n.data)),defaultValue:t("<select disabled/>").addClass(this.classes.value).addClass(this.classes.dropDown).addClass(this.classes.select),delete:t("<button>&times</button>").addClass(this.classes.delete).addClass(this.classes.button).attr("title",this.s.dt.i18n("searchBuilder.deleteTitle",n.deleteTitle)).attr("type","button"),left:t("<button><</button>").addClass(this.classes.left).addClass(this.classes.button).attr("title",this.s.dt.i18n("searchBuilder.leftTitle",n.leftTitle)).attr("type","button"),right:t("<button>></button>").addClass(this.classes.right).addClass(this.classes.button).attr("title",this.s.dt.i18n("searchBuilder.rightTitle",n.rightTitle)).attr("type","button"),value:[t("<select disabled/>").addClass(this.classes.value).addClass(this.classes.dropDown).addClass(this.classes.italic).addClass(this.classes.select)],valueTitle:t('<option value="--valueTitle--" selected/>').text(this.s.dt.i18n("searchBuilder.value",n.value))},this.c.greyscale)for(t(this.dom.data).addClass(this.classes.greyscale),t(this.dom.condition).addClass(this.classes.greyscale),t(this.dom.defaultValue).addClass(this.classes.greyscale),e=0,s=this.dom.value;e<s.length;e++)t(s[e]).addClass(this.classes.greyscale);return this.s.dt.on("draw.dtsp",(function(){d._adjustCriteria()})),this.s.dt.on("buttons-action",(function(){d._adjustCriteria()})),t(window).on("resize.dtsp",i.util.throttle((function(){d._adjustCriteria()}))),this._buildCriteria(),this};o.prototype.updateArrows=function(i,e){void 0===i&&(i=!1),void 0===e&&(e=!0),t(this.dom.container).empty().append(this.dom.data).append(this.dom.condition).append(this.dom.value[0]),this.setListeners(),t(this.dom.value[0]).trigger("dtsb-inserted");for(var n=1;n<this.dom.value.length;n++)t(this.dom.container).append(this.dom.value[n]),t(this.dom.value[n]).trigger("dtsb-inserted");1<this.s.depth&&t(this.dom.buttons).append(this.dom.left),(!1===this.c.depthLimit||this.s.depth<this.c.depthLimit)&&i?t(this.dom.buttons).append(this.dom.right):t(this.dom.right).remove(),t(this.dom.buttons).append(this.dom.delete),t(this.dom.container).append(this.dom.buttons),e&&this._adjustCriteria()},o.prototype.destroy=function(){t(this.dom.data).off(".dtsb"),t(this.dom.condition).off(".dtsb"),t(this.dom.delete).off(".dtsb");for(var i=0,e=this.dom.value;i<e.length;i++)t(e[i]).off(".dtsb");t(this.dom.container).remove()},o.prototype.search=function(t,i){var e=this.s.conditions[this.s.condition];if(void 0!==this.s.condition&&void 0!==e){var n=t[this.s.dataIdx];if(-1!==this.s.type.indexOf("num")&&(""!==this.s.dt.settings()[0].oLanguage.sDecimal||""!==this.s.dt.settings()[0].oLanguage.sThousands)){if(n=[t[this.s.dataIdx]],""!==this.s.dt.settings()[0].oLanguage.sDecimal&&(n=t[this.s.dataIdx].split(this.s.dt.settings()[0].oLanguage.sDecimal)),""!==this.s.dt.settings()[0].oLanguage.sThousands)for(var s=0;s<n.length;s++)n[s]=n[s].replace(this.s.dt.settings()[0].oLanguage.sThousands,",");n=n.join(".")}if("filter"!==this.c.orthogonal.search&&(n=(n=this.s.dt.settings()[0]).oApi._fnGetCellData(n,i,this.s.dataIdx,"string"==typeof this.c.orthogonal?this.c.orthogonal:this.c.orthogonal.search)),"array"===this.s.type){Array.isArray(n)||(n=[n]),n.sort(),s=0;for(var o=n;s<o.length;s++){var a=o[s];a&&a.replace(/[\r\n\u2028]/g," ")}}else null!==n&&(n=n.replace(/[\r\n\u2028]/g," "));return-1!==this.s.type.indexOf("html")&&(n=n.replace(/(<([^>]+)>)/gi,"")),null===n&&(n=""),e.search(n,this.s.value,this)}},o.prototype.getDetails=function(){var t=this.s.value;if(-1!==this.s.type.indexOf("num")&&(""!==this.s.dt.settings()[0].oLanguage.sDecimal||""!==this.s.dt.settings()[0].oLanguage.sThousands))for(var i=0;i<this.s.value.length;i++){var e=[this.s.value[i].toString()];if(""!==this.s.dt.settings()[0].oLanguage.sDecimal&&(e=this.s.value[i].split(this.s.dt.settings()[0].oLanguage.sDecimal)),""!==this.s.dt.settings()[0].oLanguage.sThousands)for(var n=0;n<e.length;n++)e[n]=e[n].replace(this.s.dt.settings()[0].oLanguage.sThousands,",");this.s.value[i]=e.join(".")}return{condition:this.s.condition,data:this.s.data,value:t}},o.prototype.getNode=function(){return this.dom.container},o.prototype.populate=function(){this._populateData(),-1!==this.s.dataIdx&&(this._populateCondition(),void 0!==this.s.condition&&this._populateValue())},o.prototype.rebuild=function(i){var e,n,s=!1;if(this._populateData(),void 0!==i.data){var o=this.classes.italic,a=this.dom.data;t(this.dom.data).children("option").each((function(){t(this).text()===i.data&&(t(this).attr("selected",!0),t(a).removeClass(o),s=!0,e=t(this).val())}))}s&&(this.s.data=i.data,this.s.dataIdx=e,this.c.orthogonal=this._getOptions().orthogonal,t(this.dom.dataTitle).remove(),this._populateCondition(),t(this.dom.conditionTitle).remove(),t(this.dom.condition).children("option").each((function(){void 0!==i.condition&&t(this).val()===i.condition&&"string"==typeof i.condition&&(t(this).attr("selected",!0),n=t(this).val())})),this.s.condition=n,void 0!==this.s.condition?(t(this.dom.conditionTitle).remove(),t(this.dom.condition).removeClass(this.classes.italic),this._populateValue(i)):t(this.dom.conditionTitle).prependTo(this.dom.condition).attr("selected",!0))},o.prototype.setListeners=function(){var i=this;t(this.dom.data).unbind("input change").on("input change",(function(){t(i.dom.dataTitle).attr("selected",!1),t(i.dom.data).removeClass(i.classes.italic),i.s.dataIdx=t(i.dom.data).children("option:selected").val(),i.s.data=t(i.dom.data).children("option:selected").text(),i.c.orthogonal=i._getOptions().orthogonal,i._clearCondition(),i._clearValue(),i._populateCondition(),i.s.filled&&(i.s.filled=!1,i.s.dt.draw(),i.setListeners()),i.s.dt.state.save()})),t(this.dom.condition).unbind("input change").on("input change",(function(){t(i.dom.conditionTitle).attr("selected",!1),t(i.dom.condition).removeClass(i.classes.italic);for(var e=t(i.dom.condition).children("option:selected").val(),n=0,s=Object.keys(i.s.conditions);n<s.length;n++)if(s[n]===e){i.s.condition=e;break}for(i._clearValue(),i._populateValue(),e=0,n=i.dom.value;e<n.length;e++)s=n[e],i.s.filled&&0!==t(i.dom.container).has(s).length&&(i.s.filled=!1,i.s.dt.draw(),i.setListeners());i.s.dt.draw()}))},o.prototype._adjustCriteria=function(){var i,e;if(0!==t(document).has(this.dom.container).length&&(i=this.dom.value[this.dom.value.length-1],0!==t(this.dom.container).has(i).length)){e=t(i).outerWidth(!0),i=t(i).offset().left+e;var n=t(this.dom.left).offset(),s=t(this.dom.right).offset(),o=t(this.dom.delete).offset(),a=0!==t(this.dom.container).has(this.dom.left).length,r=0!==t(this.dom.container).has(this.dom.right).length,d=a?n.left:r?s.left:o.left;(15>d-i||a&&n.top!==o.top||r&&s.top!==o.top)&&!t(this.dom.container).parent().hasClass(this.classes.vertical)?(t(this.dom.container).parent().addClass(this.classes.vertical),t(this.s.topGroup).trigger("dtsb-redrawContents")):15<d-(t(this.dom.data).offset().left+t(this.dom.data).outerWidth(!0)+t(this.dom.condition).outerWidth(!0)+e)&&t(this.dom.container).parent().hasClass(this.classes.vertical)&&(t(this.dom.container).parent().removeClass(this.classes.vertical),t(this.s.topGroup).trigger("dtsb-redrawContents"))}},o.prototype._buildCriteria=function(){t(this.dom.data).append(this.dom.dataTitle),t(this.dom.condition).append(this.dom.conditionTitle),t(this.dom.container).append(this.dom.data).append(this.dom.condition);for(var i=0,e=this.dom.value;i<e.length;i++){var n=e[i];t(n).append(this.dom.valueTitle),t(this.dom.container).append(n)}t(this.dom.container).append(this.dom.delete).append(this.dom.right),this.setListeners()},o.prototype._clearCondition=function(){t(this.dom.condition).empty(),t(this.dom.conditionTitle).attr("selected",!0).attr("disabled",!0),t(this.dom.condition).prepend(this.dom.conditionTitle).prop("selectedIndex",0),this.s.conditions={},this.s.condition=void 0},o.prototype._clearValue=function(){if(void 0!==this.s.condition){for(var i=function(i){setTimeout((function(){t(i).remove()}),50)},e=0,n=this.dom.value;e<n.length;e++){var s=n[e];i(s)}for(this.dom.value=[].concat(this.s.conditions[this.s.condition].init(this,o.updateListener)),t(this.dom.value[0]).insertAfter(this.dom.condition).trigger("dtsb-inserted"),s=1;s<this.dom.value.length;s++)t(this.dom.value[s]).insertAfter(this.dom.value[s-1]).trigger("dtsb-inserted")}else{for(i=function(i){setTimeout((function(){t(i).remove()}),50)},e=0,n=this.dom.value;e<n.length;e++)i(s=n[e]);t(this.dom.valueTitle).attr("selected",!0),t(this.dom.defaultValue).append(this.dom.valueTitle).insertAfter(this.dom.condition)}this.s.value=[],this.dom.value=[t("<select disabled/>").addClass(this.classes.value).addClass(this.classes.dropDown).addClass(this.classes.italic).addClass(this.classes.select).append(t(this.dom.valueTitle).clone())]},o.prototype._getOptions=function(){return t.extend(!0,{},o.defaults,this.s.dt.settings()[0].aoColumns[this.s.dataIdx].searchBuilder)},o.prototype._populateCondition=function(){var i=[],e=Object.keys(this.s.conditions).length;if(0===e){e=t(this.dom.data).children("option:selected").val(),this.s.type=this.s.dt.columns().type().toArray()[e],null===this.s.type&&(this.s.dt.draw(),this.setListeners(),this.s.type=this.s.dt.columns().type().toArray()[e]),t(this.dom.condition).attr("disabled",!1).empty().append(this.dom.conditionTitle).addClass(this.classes.italic),t(this.dom.conditionTitle).attr("selected",!0),""!==(e=this.s.dt.settings()[0].oLanguage.sDecimal)&&this.s.type.indexOf(e)===this.s.type.length-e.length&&(-1!==this.s.type.indexOf("num-fmt")||-1!==this.s.type.indexOf("num"))&&(this.s.type=this.s.type.replace(e,""));var n=void 0!==this.c.conditions[this.s.type]?this.c.conditions[this.s.type]:-1!==this.s.type.indexOf("moment")?this.c.conditions.moment:-1!==this.s.type.indexOf("luxon")?this.c.conditions.luxon:this.c.conditions.string;-1!==this.s.type.indexOf("moment")?this.s.dateFormat=this.s.type.replace(/moment-/g,""):-1!==this.s.type.indexOf("luxon")&&(this.s.dateFormat=this.s.type.replace(/luxon-/g,""));for(var s=0,o=Object.keys(n);s<o.length;s++){var a=o[s];null!==n[a]&&(this.s.conditions[a]=n[a],"function"==typeof(e=n[a].conditionName)&&(e=e(this.s.dt,this.c.i18n)),i.push(t("<option>",{text:e,value:a}).addClass(this.classes.option).addClass(this.classes.notItalic)))}}else{if(!(0<e))return void t(this.dom.condition).attr("disabled",!0).addClass(this.classes.italic);for(t(this.dom.condition).empty().attr("disabled",!1).addClass(this.classes.italic),n=0,s=Object.keys(this.s.conditions);n<s.length;n++)a=s[n],"function"==typeof(e=this.s.conditions[a].conditionName)&&(e=e(this.s.dt,this.c.i18n)),a=t("<option>",{text:e,value:a}).addClass(this.classes.option).addClass(this.classes.notItalic),void 0!==this.s.condition&&this.s.condition===e&&(t(a).attr("selected",!0),t(this.dom.condition).removeClass(this.classes.italic)),i.push(a)}for(e=0;e<i.length;e++)a=i[e],t(this.dom.condition).append(a);t(this.dom.condition).prop("selectedIndex",0)},o.prototype._populateData=function(){var i=this;if(t(this.dom.data).empty().append(this.dom.dataTitle),0===this.s.dataPoints.length)this.s.dt.columns().every((function(e){if(!0===i.c.columns||-1!==i.s.dt.columns(i.c.columns).indexes().toArray().indexOf(e)){for(var n=!1,s=0,o=i.s.dataPoints;s<o.length;s++)if(o[s].index===e){n=!0;break}n||(e={index:e,text:(void 0===(n=i.s.dt.settings()[0].aoColumns[e]).searchBuilderTitle?n.sTitle:n.searchBuilderTitle).replace(/(<([^>]+)>)/gi,"")},i.s.dataPoints.push(e),t(i.dom.data).append(t("<option>",{text:e.text,value:e.index}).addClass(i.classes.option).addClass(i.classes.notItalic)))}}));else for(var e=function(e){n.s.dt.columns().every((function(t){var n=i.s.dt.settings()[0].aoColumns[t];(void 0===n.searchBuilderTitle?n.sTitle:n.searchBuilderTitle).replace(/(<([^>]+)>)/gi,"")===e.text&&(e.index=t)}));var s=t("<option>",{text:e.text.replace(/(<([^>]+)>)/gi,""),value:e.index}).addClass(n.classes.option).addClass(n.classes.notItalic);n.s.data===e.text&&(n.s.dataIdx=e.index,t(s).attr("selected",!0),t(n.dom.data).removeClass(n.classes.italic)),t(n.dom.data).append(s)},n=this,s=0,o=this.s.dataPoints;s<o.length;s++)e(o[s])},o.prototype._populateValue=function(i){var e=this,n=this.s.filled;this.s.filled=!1,setTimeout((function(){t(e.dom.defaultValue).remove()}),50);for(var s=function(i){setTimeout((function(){t(i).remove()}),50)},a=0,r=this.dom.value;a<r.length;a++)s(r[a]);if(3<(s=t(this.dom.container).children()).length)for(a=2;a<s.length-1;a++)t(s[a]).remove();for(void 0!==i&&this.s.dt.columns().every((function(t){e.s.dt.settings()[0].aoColumns[t].sTitle===i.data&&(e.s.dataIdx=t)})),this.dom.value=[].concat(this.s.conditions[this.s.condition].init(this,o.updateListener,void 0!==i?i.value:void 0)),void 0!==i&&void 0!==i.value&&(this.s.value=i.value),t(this.dom.value[0]).insertAfter(this.dom.condition).trigger("dtsb-inserted"),a=1;a<this.dom.value.length;a++)t(this.dom.value[a]).insertAfter(this.dom.value[a-1]).trigger("dtsb-inserted");this.s.filled=this.s.conditions[this.s.condition].isInputValid(this.dom.value,this),this.setListeners(),n!==this.s.filled&&(this.s.dt.draw(),this.setListeners())},o.version="1.1.0",o.classes={button:"dtsb-button",buttonContainer:"dtsb-buttonContainer",condition:"dtsb-condition",container:"dtsb-criteria",data:"dtsb-data",delete:"dtsb-delete",dropDown:"dtsb-dropDown",greyscale:"dtsb-greyscale",input:"dtsb-input",italic:"dtsb-italic",joiner:"dtsp-joiner",left:"dtsb-left",notItalic:"dtsb-notItalic",option:"dtsb-option",right:"dtsb-right",select:"dtsb-select",value:"dtsb-value",vertical:"dtsb-vertical"},o.initSelect=function(i,e,n,s){void 0===n&&(n=null),void 0===s&&(s=!1);var a=t(i.dom.data).children("option:selected").val(),r=i.s.dt.rows().indexes().toArray(),d=i.s.dt.settings()[0],l=t("<select/>").addClass(o.classes.value).addClass(o.classes.dropDown).addClass(o.classes.italic).addClass(o.classes.select).append(i.dom.valueTitle).on("input change",(function(){t(this).removeClass(o.classes.italic),e(i,this)}));i.c.greyscale&&t(l).addClass(o.classes.greyscale);for(var u=[],c=[],h=0;h<r.length;h++){var p=r[h],f="string"==typeof(f=d.oApi._fnGetCellData(d,p,a,"string"==typeof i.c.orthogonal?i.c.orthogonal:i.c.orthogonal.search))?f.replace(/[\r\n\u2028]/g," "):f;p=d.oApi._fnGetCellData(d,p,a,"string"==typeof i.c.orthogonal?i.c.orthogonal:i.c.orthogonal.display),"array"===i.s.type&&(f=Array.isArray(f)?f=f.sort():[f],p=Array.isArray(p)?p=p.sort():[p]);var m=function(e,s){var a=t("<option>",{type:Array.isArray(e)?"Array":"String",value:-1!==i.s.type.indexOf("html")&&null!==e&&"string"==typeof e?e.replace(/(<([^>]+)>)/gi,""):e}).addClass(i.classes.option).addClass(i.classes.notItalic).html("string"==typeof s?s.replace(/(<([^>]+)>)/gi,""):s),r=t(a).val();-1===u.indexOf(r)&&(u.push(r),c.push(a),null!==n&&Array.isArray(n[0])&&(n[0]=n[0].sort().join(",")),null!==n&&a.val()===n[0]&&(a.attr("selected",!0),t(l).removeClass(o.classes.italic)))};if(s)for(var g=0;g<f.length;g++)m(f[g],p[g]);else m(f,p)}for(c.sort((function(e,n){return"array"===i.s.type||"string"===i.s.type||"num"===i.s.type||"html"===i.s.type||"html-num"===i.s.type?t(e).val()<t(n).val()?-1:t(e).val()>t(n).val()?1:0:"num-fmt"===i.s.type||"html-num-fmt"===i.s.type?+t(e).val().replace(/[^0-9.]/g,"")<+t(n).val().replace(/[^0-9.]/g,"")?-1:+t(e).val().replace(/[^0-9.]/g,"")>+t(n).val().replace(/[^0-9.]/g,"")?1:0:void 0})),s=0;s<c.length;s++)a=c[s],t(l).append(a);return l},o.initSelectArray=function(t,i,e){return void 0===e&&(e=null),o.initSelect(t,i,e,!0)},o.initInput=function(i,e,n){var s=this;void 0===n&&(n=null);var a=i.s.dt.settings()[0].searchDelay;return a=t("<input/>").addClass(o.classes.value).addClass(o.classes.input).on("input keypress",i.c.enterSearch&&null===a?i.c.enterSearch?function(t){13===(t.keyCode||t.which)&&e(i,s)}:function(){e(i,s)}:i.s.dt.settings()[0].oApi._fnThrottle((function(){return e(i,this)}),a)),i.c.greyscale&&t(a).addClass(o.classes.greyscale),null!==n&&t(a).val(n[0]),i.s.dt.one("draw",(function(){t(i.s.topGroup).trigger("dtsb-redrawLogic")})),a},o.init2Input=function(i,e,n){var s=this;void 0===n&&(n=null);var a=i.s.dt.settings()[0].searchDelay;return a=[t("<input/>").addClass(o.classes.value).addClass(o.classes.input).on("input keypress",null!==a?i.s.dt.settings()[0].oApi._fnThrottle((function(){return e(i,this)}),a):i.c.enterSearch?function(t){13===(t.keyCode||t.which)&&e(i,s)}:function(){e(i,s)}),t("<span>").addClass(i.classes.joiner).text(i.s.dt.i18n("searchBuilder.valueJoiner",i.c.i18n.valueJoiner)),t("<input/>").addClass(o.classes.value).addClass(o.classes.input).on("input keypress",null!==a?i.s.dt.settings()[0].oApi._fnThrottle((function(){return e(i,this)}),a):i.c.enterSearch?function(t){13===(t.keyCode||t.which)&&e(i,s)}:function(){e(i,s)})],i.c.greyscale&&(t(a[0]).addClass(o.classes.greyscale),t(a[2]).addClass(o.classes.greyscale)),null!==n&&(t(a[0]).val(n[0]),t(a[2]).val(n[1])),i.s.dt.one("draw",(function(){t(i.s.topGroup).trigger("dtsb-redrawLogic")})),a},o.initDate=function(i,e,n){var s=this;void 0===n&&(n=null);var a=i.s.dt.settings()[0].searchDelay;return a=t("<input/>").addClass(o.classes.value).addClass(o.classes.input).dtDateTime({attachTo:"input",format:i.s.dateFormat?i.s.dateFormat:void 0}).on("change",null!==a?i.s.dt.settings()[0].oApi._fnThrottle((function(){return e(i,this)}),a):function(){e(i,s)}).on("input keypress",i.c.enterSearch||null===a?i.c.enterSearch?function(t){13===(t.keyCode||t.which)&&e(i,s)}:function(){e(i,s)}:i.s.dt.settings()[0].oApi._fnThrottle((function(){return e(i,this)}),a)),i.c.greyscale&&t(a).addClass(o.classes.greyscale),null!==n&&t(a).val(n[0]),i.s.dt.one("draw",(function(){t(i.s.topGroup).trigger("dtsb-redrawLogic")})),a},o.initNoValue=function(i){i.s.dt.one("draw",(function(){t(i.s.topGroup).trigger("dtsb-redrawLogic")}))},o.init2Date=function(i,e,n){var s=this;void 0===n&&(n=null);var a=i.s.dt.settings()[0].searchDelay;return a=[t("<input/>").addClass(o.classes.value).addClass(o.classes.input).dtDateTime({attachTo:"input",format:i.s.dateFormat?i.s.dateFormat:void 0}).on("change",null!==a?i.s.dt.settings()[0].oApi._fnThrottle((function(){return e(i,this)}),a):function(){e(i,s)}).on("input keypress",i.c.enterSearch||null===a?i.c.enterSearch?function(t){13===(t.keyCode||t.which)&&e(i,s)}:function(){e(i,s)}:i.s.dt.settings()[0].oApi._fnThrottle((function(){return e(i,this)}),a)),t("<span>").addClass(i.classes.joiner).text(i.s.dt.i18n("searchBuilder.valueJoiner",i.c.i18n.valueJoiner)),t("<input/>").addClass(o.classes.value).addClass(o.classes.input).dtDateTime({attachTo:"input",format:i.s.dateFormat?i.s.dateFormat:void 0}).on("change",null!==a?i.s.dt.settings()[0].oApi._fnThrottle((function(){return e(i,this)}),a):function(){e(i,s)}).on("input keypress",i.c.enterSearch||null===a?i.c.enterSearch?function(t){13===(t.keyCode||t.which)&&e(i,s)}:function(){e(i,s)}:i.s.dt.settings()[0].oApi._fnThrottle((function(){return e(i,this)}),a))],i.c.greyscale&&(t(a[0]).addClass(o.classes.greyscale),t(a[2]).addClass(o.classes.greyscale)),null!==n&&0<n.length&&(t(a[0]).val(n[0]),t(a[2]).val(n[1])),i.s.dt.one("draw",(function(){t(i.s.topGroup).trigger("dtsb-redrawLogic")})),a},o.isInputValidSelect=function(i){for(var e=!0,n=0;n<i.length;n++){var s=i[n];t(s).children("option:selected").length===t(s).children("option").length-t(s).children("option."+o.classes.notItalic).length&&1===t(s).children("option:selected").length&&t(s).children("option:selected")[0]===t(s).children("option:hidden")[0]&&(e=!1)}return e},o.isInputValidInput=function(i){for(var e=!0,n=0;n<i.length;n++){var s=i[n];t(s).is("input")&&0===t(s).val().length&&(e=!1)}return e},o.inputValueSelect=function(i){for(var e=[],n=0;n<i.length;n++){var s=i[n];if(t(s).is("select")){var o=t(s).children("option:selected").val();e.push("Array"===t(s).children("option:selected").attr("type")?o.split(",").sort():o)}}return e},o.inputValueInput=function(i){for(var e=[],n=0;n<i.length;n++){var s=i[n];t(s).is("input")&&e.push(t(s).val())}return e},o.updateListener=function(i,e){var n=i.s.conditions[i.s.condition];for(i.s.filled=n.isInputValid(i.dom.value,i),i.s.value=n.inputValue(i.dom.value,i),Array.isArray(i.s.value)||(i.s.value=[i.s.value]),n=0;n<i.s.value.length;n++)if(Array.isArray(i.s.value[n]))i.s.value[n].sort();else if(-1!==i.s.type.indexOf("num")&&(""!==i.s.dt.settings()[0].oLanguage.sDecimal||""!==i.s.dt.settings()[0].oLanguage.sThousands)){var s=[i.s.value[n].toString()];if(""!==i.s.dt.settings()[0].oLanguage.sDecimal&&(s=i.s.value[n].split(i.s.dt.settings()[0].oLanguage.sDecimal)),""!==i.s.dt.settings()[0].oLanguage.sThousands)for(var o=0;o<s.length;o++)s[o]=s[o].replace(i.s.dt.settings()[0].oLanguage.sThousands,",");i.s.value[n]=s.join(".")}for(o=s=null,n=0;n<i.dom.value.length;n++)e===i.dom.value[n][0]&&(s=n,void 0!==e.selectionStart&&(o=e.selectionStart));i.s.dt.draw(),null!==s&&(t(i.dom.value[s]).removeClass(i.classes.italic),t(i.dom.value[s]).focus(),null!==o&&t(i.dom.value[s])[0].setSelectionRange(o,o))},o.dateConditions={"=":{conditionName:function(t,i){return t.i18n("searchBuilder.conditions.date.equals",i.conditions.date.equals)},init:o.initDate,inputValue:o.inputValueInput,isInputValid:o.isInputValidInput,search:function(t,i){return(t=t.replace(/(\/|-|,)/g,"-"))===i[0]}},"!=":{conditionName:function(t,i){return t.i18n("searchBuilder.conditions.date.not",i.conditions.date.not)},init:o.initDate,inputValue:o.inputValueInput,isInputValid:o.isInputValidInput,search:function(t,i){return(t=t.replace(/(\/|-|,)/g,"-"))!==i[0]}},"<":{conditionName:function(t,i){return t.i18n("searchBuilder.conditions.date.before",i.conditions.date.before)},init:o.initDate,inputValue:o.inputValueInput,isInputValid:o.isInputValidInput,search:function(t,i){return(t=t.replace(/(\/|-|,)/g,"-"))<i[0]}},">":{conditionName:function(t,i){return t.i18n("searchBuilder.conditions.date.after",i.conditions.date.after)},init:o.initDate,inputValue:o.inputValueInput,isInputValid:o.isInputValidInput,search:function(t,i){return(t=t.replace(/(\/|-|,)/g,"-"))>i[0]}},between:{conditionName:function(t,i){return t.i18n("searchBuilder.conditions.date.between",i.conditions.date.between)},init:o.init2Date,inputValue:o.inputValueInput,isInputValid:o.isInputValidInput,search:function(t,i){return t=t.replace(/(\/|-|,)/g,"-"),i[0]<i[1]?i[0]<=t&&t<=i[1]:i[1]<=t&&t<=i[0]}},"!between":{conditionName:function(t,i){return t.i18n("searchBuilder.conditions.date.notBetween",i.conditions.date.notBetween)},init:o.init2Date,inputValue:o.inputValueInput,isInputValid:o.isInputValidInput,search:function(t,i){return t=t.replace(/(\/|-|,)/g,"-"),i[0]<i[1]?!(i[0]<=t&&t<=i[1]):!(i[1]<=t&&t<=i[0])}},null:{conditionName:function(t,i){return t.i18n("searchBuilder.conditions.date.empty",i.conditions.date.empty)},init:o.initNoValue,inputValue:function(){},isInputValid:function(){return!0},search:function(t){return null==t||0===t.length}},"!null":{conditionName:function(t,i){return t.i18n("searchBuilder.conditions.date.notEmpty",i.conditions.date.notEmpty)},init:o.initNoValue,inputValue:function(){},isInputValid:function(){return!0},search:function(t){return!(null==t||0===t.length)}}},o.momentDateConditions={"=":{conditionName:function(t,i){return t.i18n("searchBuilder.conditions.date.equals",i.conditions.date.equals)},init:o.initDate,inputValue:o.inputValueInput,isInputValid:o.isInputValidInput,search:function(t,i,e){return n(t,e.s.dateFormat).valueOf()===n(i[0],e.s.dateFormat).valueOf()}},"!=":{conditionName:function(t,i){return t.i18n("searchBuilder.conditions.date.not",i.conditions.date.not)},init:o.initDate,inputValue:o.inputValueInput,isInputValid:o.isInputValidInput,search:function(t,i,e){return n(t,e.s.dateFormat).valueOf()!==n(i[0],e.s.dateFormat).valueOf()}},"<":{conditionName:function(t,i){return t.i18n("searchBuilder.conditions.date.before",i.conditions.date.before)},init:o.initDate,inputValue:o.inputValueInput,isInputValid:o.isInputValidInput,search:function(t,i,e){return n(t,e.s.dateFormat).valueOf()<n(i[0],e.s.dateFormat).valueOf()}},">":{conditionName:function(t,i){return t.i18n("searchBuilder.conditions.date.after",i.conditions.date.after)},init:o.initDate,inputValue:o.inputValueInput,isInputValid:o.isInputValidInput,search:function(t,i,e){return n(t,e.s.dateFormat).valueOf()>n(i[0],e.s.dateFormat).valueOf()}},between:{conditionName:function(t,i){return t.i18n("searchBuilder.conditions.date.between",i.conditions.date.between)},init:o.init2Date,inputValue:o.inputValueInput,isInputValid:o.isInputValidInput,search:function(t,i,e){t=n(t,e.s.dateFormat).valueOf();var s=n(i[0],e.s.dateFormat).valueOf();return s<(i=n(i[1],e.s.dateFormat).valueOf())?s<=t&&t<=i:i<=t&&t<=s}},"!between":{conditionName:function(t,i){return t.i18n("searchBuilder.conditions.date.notBetween",i.conditions.date.notBetween)},init:o.init2Date,inputValue:o.inputValueInput,isInputValid:o.isInputValidInput,search:function(t,i,e){t=n(t,e.s.dateFormat).valueOf();var s=n(i[0],e.s.dateFormat).valueOf();return s<(i=n(i[1],e.s.dateFormat).valueOf())?!(+s<=+t&&+t<=+i):!(+i<=+t&&+t<=+s)}},null:{conditionName:function(t,i){return t.i18n("searchBuilder.conditions.date.empty",i.conditions.date.empty)},init:o.initNoValue,inputValue:function(){},isInputValid:function(){return!0},search:function(t){return null==t||0===t.length}},"!null":{conditionName:function(t,i){return t.i18n("searchBuilder.conditions.date.notEmpty",i.conditions.date.notEmpty)},init:o.initNoValue,inputValue:function(){},isInputValid:function(){return!0},search:function(t){return!(null==t||0===t.length)}}},o.luxonDateConditions={"=":{conditionName:function(t,i){return t.i18n("searchBuilder.conditions.date.equals",i.conditions.date.equals)},init:o.initDate,inputValue:o.inputValueInput,isInputValid:o.isInputValidInput,search:function(t,i,e){return s.DateTime.fromFormat(t,e.s.dateFormat).ts===s.DateTime.fromFormat(i[0],e.s.dateFormat).ts}},"!=":{conditionName:function(t,i){return t.i18n("searchBuilder.conditions.date.not",i.conditions.date.not)},init:o.initDate,inputValue:o.inputValueInput,isInputValid:o.isInputValidInput,search:function(t,i,e){return s.DateTime.fromFormat(t,e.s.dateFormat).ts!==s.DateTime.fromFormat(i[0],e.s.dateFormat).ts}},"<":{conditionName:function(t,i){return t.i18n("searchBuilder.conditions.date.before",i.conditions.date.before)},init:o.initDate,inputValue:o.inputValueInput,isInputValid:o.isInputValidInput,search:function(t,i,e){return s.DateTime.fromFormat(t,e.s.dateFormat).ts<s.DateTime.fromFormat(i[0],e.s.dateFormat).ts}},">":{conditionName:function(t,i){return t.i18n("searchBuilder.conditions.date.after",i.conditions.date.after)},init:o.initDate,inputValue:o.inputValueInput,isInputValid:o.isInputValidInput,search:function(t,i,e){return s.DateTime.fromFormat(t,e.s.dateFormat).ts>s.DateTime.fromFormat(i[0],e.s.dateFormat).ts}},between:{conditionName:function(t,i){return t.i18n("searchBuilder.conditions.date.between",i.conditions.date.between)},init:o.init2Date,inputValue:o.inputValueInput,isInputValid:o.isInputValidInput,search:function(t,i,e){t=s.DateTime.fromFormat(t,e.s.dateFormat).ts;var n=s.DateTime.fromFormat(i[0],e.s.dateFormat).ts;return n<(i=s.DateTime.fromFormat(i[1],e.s.dateFormat).ts)?n<=t&&t<=i:i<=t&&t<=n}},"!between":{conditionName:function(t,i){return t.i18n("searchBuilder.conditions.date.notBetween",i.conditions.date.notBetween)},init:o.init2Date,inputValue:o.inputValueInput,isInputValid:o.isInputValidInput,search:function(t,i,e){t=s.DateTime.fromFormat(t,e.s.dateFormat).ts;var n=s.DateTime.fromFormat(i[0],e.s.dateFormat).ts;return n<(i=s.DateTime.fromFormat(i[1],e.s.dateFormat).ts)?!(+n<=+t&&+t<=+i):!(+i<=+t&&+t<=+n)}},null:{conditionName:function(t,i){return t.i18n("searchBuilder.conditions.date.empty",i.conditions.date.empty)},init:o.initNoValue,inputValue:function(){},isInputValid:function(){return!0},search:function(t){return null==t||0===t.length}},"!null":{conditionName:function(t,i){return t.i18n("searchBuilder.conditions.date.notEmpty",i.conditions.date.notEmpty)},init:o.initNoValue,inputValue:function(){},isInputValid:function(){return!0},search:function(t){return!(null==t||0===t.length)}}},o.numConditions={"=":{conditionName:function(t,i){return t.i18n("searchBuilder.conditions.number.equals",i.conditions.number.equals)},init:o.initSelect,inputValue:o.inputValueSelect,isInputValid:o.isInputValidSelect,search:function(t,i){return+t==+i[0]}},"!=":{conditionName:function(t,i){return t.i18n("searchBuilder.conditions.number.not",i.conditions.number.not)},init:o.initSelect,inputValue:o.inputValueSelect,isInputValid:o.isInputValidSelect,search:function(t,i){return+t!=+i[0]}},"<":{conditionName:function(t,i){return t.i18n("searchBuilder.conditions.number.lt",i.conditions.number.lt)},init:o.initInput,inputValue:o.inputValueInput,isInputValid:o.isInputValidInput,search:function(t,i){return+t<+i[0]}},"<=":{conditionName:function(t,i){return t.i18n("searchBuilder.conditions.number.lte",i.conditions.number.lte)},init:o.initInput,inputValue:o.inputValueInput,isInputValid:o.isInputValidInput,search:function(t,i){return+t<=+i[0]}},">=":{conditionName:function(t,i){return t.i18n("searchBuilder.conditions.number.gte",i.conditions.number.gte)},init:o.initInput,inputValue:o.inputValueInput,isInputValid:o.isInputValidInput,search:function(t,i){return+t>=+i[0]}},">":{conditionName:function(t,i){return t.i18n("searchBuilder.conditions.number.gt",i.conditions.number.gt)},init:o.initInput,inputValue:o.inputValueInput,isInputValid:o.isInputValidInput,search:function(t,i){return+t>+i[0]}},between:{conditionName:function(t,i){return t.i18n("searchBuilder.conditions.number.between",i.conditions.number.between)},init:o.init2Input,inputValue:o.inputValueInput,isInputValid:o.isInputValidInput,search:function(t,i){return+i[0]<+i[1]?+i[0]<=+t&&+t<=+i[1]:+i[1]<=+t&&+t<=+i[0]}},"!between":{conditionName:function(t,i){return t.i18n("searchBuilder.conditions.number.notBetween",i.conditions.number.notBetween)},init:o.init2Input,inputValue:o.inputValueInput,isInputValid:o.isInputValidInput,search:function(t,i){return+i[0]<+i[1]?!(+i[0]<=+t&&+t<=+i[1]):!(+i[1]<=+t&&+t<=+i[0])}},null:{conditionName:function(t,i){return t.i18n("searchBuilder.conditions.number.empty",i.conditions.number.empty)},init:o.initNoValue,inputValue:function(){},isInputValid:function(){return!0},search:function(t){return null==t||0===t.length}},"!null":{conditionName:function(t,i){return t.i18n("searchBuilder.conditions.number.notEmpty",i.conditions.number.notEmpty)},init:o.initNoValue,inputValue:function(){},isInputValid:function(){return!0},search:function(t){return!(null==t||0===t.length)}}},o.numFmtConditions={"=":{conditionName:function(t,i){return t.i18n("searchBuilder.conditions.number.equals",i.conditions.number.equals)},init:o.initSelect,inputValue:o.inputValueSelect,isInputValid:o.isInputValidSelect,search:function(t,i){return+(0===t.indexOf("-")?"-"+t.replace(/[^0-9.]/g,""):t.replace(/[^0-9.]/g,""))==+(0===i[0].indexOf("-")?"-"+i[0].replace(/[^0-9.]/g,""):i[0].replace(/[^0-9.]/g,""))}},"!=":{conditionName:function(t,i){return t.i18n("searchBuilder.conditions.number.not",i.conditions.number.not)},init:o.initSelect,inputValue:o.inputValueSelect,isInputValid:o.isInputValidSelect,search:function(t,i){return+(0===t.indexOf("-")?"-"+t.replace(/[^0-9.]/g,""):t.replace(/[^0-9.]/g,""))!=+(0===i[0].indexOf("-")?"-"+i[0].replace(/[^0-9.]/g,""):i[0].replace(/[^0-9.]/g,""))}},"<":{conditionName:function(t,i){return t.i18n("searchBuilder.conditions.number.lt",i.conditions.number.lt)},init:o.initInput,inputValue:o.inputValueInput,isInputValid:o.isInputValidInput,search:function(t,i){return+(0===t.indexOf("-")?"-"+t.replace(/[^0-9.]/g,""):t.replace(/[^0-9.]/g,""))<+(0===i[0].indexOf("-")?"-"+i[0].replace(/[^0-9.]/g,""):i[0].replace(/[^0-9.]/g,""))}},"<=":{conditionName:function(t,i){return t.i18n("searchBuilder.conditions.number.lte",i.conditions.number.lte)},init:o.initInput,inputValue:o.inputValueInput,isInputValid:o.isInputValidInput,search:function(t,i){return+(0===t.indexOf("-")?"-"+t.replace(/[^0-9.]/g,""):t.replace(/[^0-9.]/g,""))<=+(0===i[0].indexOf("-")?"-"+i[0].replace(/[^0-9.]/g,""):i[0].replace(/[^0-9.]/g,""))}},">=":{conditionName:function(t,i){return t.i18n("searchBuilder.conditions.number.gte",i.conditions.number.gte)},init:o.initInput,inputValue:o.inputValueInput,isInputValid:o.isInputValidInput,search:function(t,i){return+(0===t.indexOf("-")?"-"+t.replace(/[^0-9.]/g,""):t.replace(/[^0-9.]/g,""))>=+(0===i[0].indexOf("-")?"-"+i[0].replace(/[^0-9.]/g,""):i[0].replace(/[^0-9.]/g,""))}},">":{conditionName:function(t,i){return t.i18n("searchBuilder.conditions.number.gt",i.conditions.number.gt)},init:o.initInput,inputValue:o.inputValueInput,isInputValid:o.isInputValidInput,search:function(t,i){return+(0===t.indexOf("-")?"-"+t.replace(/[^0-9.]/g,""):t.replace(/[^0-9.]/g,""))>+(0===i[0].indexOf("-")?"-"+i[0].replace(/[^0-9.]/g,""):i[0].replace(/[^0-9.]/g,""))}},between:{conditionName:function(t,i){return t.i18n("searchBuilder.conditions.number.between",i.conditions.number.between)},init:o.init2Input,inputValue:o.inputValueInput,isInputValid:o.isInputValidInput,search:function(t,i){var e=0===t.indexOf("-")?"-"+t.replace(/[^0-9.]/g,""):t.replace(/[^0-9.]/g,""),n=0===i[0].indexOf("-")?"-"+i[0].replace(/[^0-9.]/g,""):i[0].replace(/[^0-9.]/g,""),s=0===i[1].indexOf("-")?"-"+i[1].replace(/[^0-9.]/g,""):i[1].replace(/[^0-9.]/g,"");return+n<+s?+n<=+e&&+e<=+s:+s<=+e&&+e<=+n}},"!between":{conditionName:function(t,i){return t.i18n("searchBuilder.conditions.number.notBetween",i.conditions.number.notBetween)},init:o.init2Input,inputValue:o.inputValueInput,isInputValid:o.isInputValidInput,search:function(t,i){var e=0===t.indexOf("-")?"-"+t.replace(/[^0-9.]/g,""):t.replace(/[^0-9.]/g,""),n=0===i[0].indexOf("-")?"-"+i[0].replace(/[^0-9.]/g,""):i[0].replace(/[^0-9.]/g,""),s=0===i[1].indexOf("-")?"-"+i[1].replace(/[^0-9.]/g,""):i[1].replace(/[^0-9.]/g,"");return+n<+s?!(+n<=+e&&+e<=+s):!(+s<=+e&&+e<=+n)}},null:{conditionName:function(t,i){return t.i18n("searchBuilder.conditions.number.empty",i.conditions.number.empty)},init:o.initNoValue,inputValue:function(){},isInputValid:function(){return!0},search:function(t){return null==t||0===t.length}},"!null":{conditionName:function(t,i){return t.i18n("searchBuilder.conditions.number.notEmpty",i.conditions.number.notEmpty)},init:o.initNoValue,inputValue:function(){},isInputValid:function(){return!0},search:function(t){return!(null==t||0===t.length)}}},o.stringConditions={"=":{conditionName:function(t,i){return t.i18n("searchBuilder.conditions.string.equals",i.conditions.string.equals)},init:o.initSelect,inputValue:o.inputValueSelect,isInputValid:o.isInputValidSelect,search:function(t,i){return t===i[0]}},"!=":{conditionName:function(t,i){return t.i18n("searchBuilder.conditions.string.not",i.conditions.string.not)},init:o.initSelect,inputValue:o.inputValueSelect,isInputValid:o.isInputValidInput,search:function(t,i){return t!==i[0]}},starts:{conditionName:function(t,i){return t.i18n("searchBuilder.conditions.string.startsWith",i.conditions.string.startsWith)},init:o.initInput,inputValue:o.inputValueInput,isInputValid:o.isInputValidInput,search:function(t,i){return 0===t.toLowerCase().indexOf(i[0].toLowerCase())}},contains:{conditionName:function(t,i){return t.i18n("searchBuilder.conditions.string.contains",i.conditions.string.contains)},init:o.initInput,inputValue:o.inputValueInput,isInputValid:o.isInputValidInput,search:function(t,i){return-1!==t.toLowerCase().indexOf(i[0].toLowerCase())}},ends:{conditionName:function(t,i){return t.i18n("searchBuilder.conditions.string.endsWith",i.conditions.string.endsWith)},init:o.initInput,inputValue:o.inputValueInput,isInputValid:o.isInputValidInput,search:function(t,i){return t.toLowerCase().endsWith(i[0].toLowerCase())}},null:{conditionName:function(t,i){return t.i18n("searchBuilder.conditions.string.empty",i.conditions.string.empty)},init:o.initNoValue,inputValue:function(){},isInputValid:function(){return!0},search:function(t){return null==t||0===t.length}},"!null":{conditionName:function(t,i){return t.i18n("searchBuilder.conditions.string.notEmpty",i.conditions.string.notEmpty)},init:o.initNoValue,inputValue:function(){},isInputValid:function(){return!0},search:function(t){return!(null==t||0===t.length)}}},o.arrayConditions={contains:{conditionName:function(t,i){return t.i18n("searchBuilder.conditions.array.contains",i.conditions.array.contains)},init:o.initSelectArray,inputValue:o.inputValueSelect,isInputValid:o.isInputValidSelect,search:function(t,i){return-1!==t.indexOf(i[0])}},without:{conditionName:function(t,i){return t.i18n("searchBuilder.conditions.array.without",i.conditions.array.without)},init:o.initSelectArray,inputValue:o.inputValueSelect,isInputValid:o.isInputValidSelect,search:function(t,i){return-1===t.indexOf(i[0])}},"=":{conditionName:function(t,i){return t.i18n("searchBuilder.conditions.array.equals",i.conditions.array.equals)},init:o.initSelect,inputValue:o.inputValueSelect,isInputValid:o.isInputValidSelect,search:function(t,i){if(t.length===i[0].length){for(var e=0;e<t.length;e++)if(t[e]!==i[0][e])return!1;return!0}return!1}},"!=":{conditionName:function(t,i){return t.i18n("searchBuilder.conditions.array.not",i.conditions.array.not)},init:o.initSelect,inputValue:o.inputValueSelect,isInputValid:o.isInputValidSelect,search:function(t,i){if(t.length===i[0].length){for(var e=0;e<t.length;e++)if(t[e]!==i[0][e])return!0;return!1}return!0}},null:{conditionName:function(t,i){return t.i18n("searchBuilder.conditions.array.empty",i.conditions.array.empty)},init:o.initNoValue,inputValue:function(){},isInputValid:function(){return!0},search:function(t){return null==t||0===t.length}},"!null":{conditionName:function(t,i){return t.i18n("searchBuilder.conditions.array.notEmpty",i.conditions.array.notEmpty)},init:o.initNoValue,inputValue:function(){},isInputValid:function(){return!0},search:function(t){return null!=t&&0!==t.length}}},o.defaults={columns:!0,conditions:{array:o.arrayConditions,date:o.dateConditions,html:o.stringConditions,"html-num":o.numConditions,"html-num-fmt":o.numFmtConditions,luxon:o.luxonDateConditions,moment:o.momentDateConditions,num:o.numConditions,"num-fmt":o.numFmtConditions,string:o.stringConditions},depthLimit:!1,enterSearch:!1,filterChanged:void 0,greyscale:!1,i18n:{add:"Add Condition",button:{0:"Search Builder",_:"Search Builder (%d)"},clearAll:"Clear All",condition:"Condition",data:"Data",deleteTitle:"Delete filtering rule",leftTitle:"Outdent criteria",logicAnd:"And",logicOr:"Or",rightTitle:"Indent criteria",title:{0:"Custom Search Builder",_:"Custom Search Builder (%d)"},value:"Value",valueJoiner:"and"},logic:"AND",orthogonal:{display:"display",search:"filter"},preDefined:!1},e=o;var a,r,d,l=function(t,i,e,n,s,o){if(void 0===n&&(n=0),void 0===s&&(s=!1),void 0===o&&(o=1),!r||!r.versionCheck||!r.versionCheck("1.10.0"))throw Error("SearchBuilder requires DataTables 1.10 or newer");return this.classes=a.extend(!0,{},l.classes),this.c=a.extend(!0,{},l.defaults,i),this.s={criteria:[],depth:o,dt:t,index:n,isChild:s,logic:void 0,opts:i,toDrop:void 0,topGroup:e},this.dom={add:a("<button/>").addClass(this.classes.add).addClass(this.classes.button).attr("type","button"),clear:a("<button>&times</button>").addClass(this.classes.button).addClass(this.classes.clearGroup).attr("type","button"),container:a("<div/>").addClass(this.classes.group),logic:a("<button/>").addClass(this.classes.logic).addClass(this.classes.button).attr("type","button"),logicContainer:a("<div/>").addClass(this.classes.logicContainer)},void 0===this.s.topGroup&&(this.s.topGroup=this.dom.container),this._setup(),this};l.prototype.destroy=function(){a(this.dom.add).off(".dtsb"),a(this.dom.logic).off(".dtsb"),a(this.dom.container).trigger("dtsb-destroy").remove(),this.s.criteria=[]},l.prototype.getDetails=function(){if(0===this.s.criteria.length)return{};for(var t={criteria:[],logic:this.s.logic},i=0,e=this.s.criteria;i<e.length;i++)t.criteria.push(e[i].criteria.getDetails());return t},l.prototype.getNode=function(){return this.dom.container},l.prototype.rebuild=function(t){if(!(void 0===t.criteria||null===t.criteria||Array.isArray(t.criteria)&&0===t.criteria.length)){if(this.s.logic=t.logic,a(this.dom.logic).text("OR"===this.s.logic?this.s.dt.i18n("searchBuilder.logicOr",this.c.i18n.logicOr):this.s.dt.i18n("searchBuilder.logicAnd",this.c.i18n.logicAnd)),Array.isArray(t.criteria))for(var i=0,n=t.criteria;i<n.length;i++)void 0!==(t=n[i]).logic?this._addPrevGroup(t):void 0===t.logic&&this._addPrevCriteria(t);for(i=0,n=this.s.criteria;i<n.length;i++)(t=n[i]).criteria instanceof e&&(t.criteria.updateArrows(1<this.s.criteria.length,!1),this._setCriteriaListeners(t.criteria))}},l.prototype.redrawContents=function(){a(this.dom.container).empty().append(this.dom.logicContainer).append(this.dom.add),this.s.criteria.sort((function(t,i){return t.criteria.s.index<i.criteria.s.index?-1:t.criteria.s.index>i.criteria.s.index?1:0})),this.setListeners();for(var t=0;t<this.s.criteria.length;t++){var i=this.s.criteria[t].criteria;i instanceof e?(this.s.criteria[t].index=t,this.s.criteria[t].criteria.s.index=t,a(this.s.criteria[t].criteria.dom.container).insertBefore(this.dom.add),this._setCriteriaListeners(i),this.s.criteria[t].criteria.rebuild(this.s.criteria[t].criteria.getDetails())):i instanceof l&&0<i.s.criteria.length?(this.s.criteria[t].index=t,this.s.criteria[t].criteria.s.index=t,a(this.s.criteria[t].criteria.dom.container).insertBefore(this.dom.add),i.redrawContents(),this._setGroupListeners(i)):(this.s.criteria.splice(t,1),t--)}this.setupLogic()},l.prototype.redrawLogic=function(){for(var t=0,i=this.s.criteria;t<i.length;t++){var e=i[t];e instanceof l&&e.redrawLogic()}this.setupLogic()},l.prototype.search=function(t,i){return"AND"===this.s.logic?this._andSearch(t,i):"OR"!==this.s.logic||this._orSearch(t,i)},l.prototype.setupLogic=function(){if(a(this.dom.logicContainer).remove(),a(this.dom.clear).remove(),1>this.s.criteria.length)this.s.isChild||(a(this.dom.container).trigger("dtsb-destroy"),a(this.dom.container).css("margin-left",0));else{var t=a(this.dom.container).height()-1;a(this.dom.clear).height("0px"),a(this.dom.logicContainer).append(this.dom.clear).width(t),a(this.dom.container).prepend(this.dom.logicContainer),this._setLogicListener(),a(this.dom.container).css("margin-left",a(this.dom.logicContainer).outerHeight(!0));var i=(i=(t=a(this.dom.logicContainer).offset()).left)-(i-a(this.dom.container).offset().left)-a(this.dom.logicContainer).outerHeight(!0);a(this.dom.logicContainer).offset({left:i}),i=a(this.dom.logicContainer).next(),t=t.top,t-=t-(i=a(i).offset().top),a(this.dom.logicContainer).offset({top:t}),a(this.dom.clear).outerHeight(a(this.dom.logicContainer).height()),this._setClearListener()}},l.prototype.setListeners=function(){var t=this;a(this.dom.add).unbind("click"),a(this.dom.add).on("click",(function(){return t.s.isChild||a(t.dom.container).prepend(t.dom.logicContainer),t.addCriteria(),a(t.dom.container).trigger("dtsb-add"),t.s.dt.state.save(),!1}));for(var i=0,e=this.s.criteria;i<e.length;i++)e[i].criteria.setListeners();this._setClearListener(),this._setLogicListener()},l.prototype.addCriteria=function(t,i){void 0===t&&(t=null),void 0===i&&(i=!0);var n=null===t?this.s.criteria.length:t.s.index,s=new e(this.s.dt,this.s.opts,this.s.topGroup,n,this.s.depth);null!==t&&(s.c=t.c,s.s=t.s,s.s.depth=this.s.depth,s.classes=t.classes),s.populate();for(var o=!1,r=0;r<this.s.criteria.length;r++)0===r&&this.s.criteria[r].criteria.s.index>s.s.index?(a(s.getNode()).insertBefore(this.s.criteria[r].criteria.dom.container),o=!0):r<this.s.criteria.length-1&&this.s.criteria[r].criteria.s.index<s.s.index&&this.s.criteria[r+1].criteria.s.index>s.s.index&&(a(s.getNode()).insertAfter(this.s.criteria[r].criteria.dom.container),o=!0);for(o||a(s.getNode()).insertBefore(this.dom.add),this.s.criteria.push({criteria:s,index:n}),this.s.criteria=this.s.criteria.sort((function(t,i){return t.criteria.s.index-i.criteria.s.index})),n=0,o=this.s.criteria;n<o.length;n++)(r=o[n]).criteria instanceof e&&r.criteria.updateArrows(1<this.s.criteria.length,i);this._setCriteriaListeners(s),s.setListeners(),this.setupLogic()},l.prototype.checkFilled=function(){for(var t=0,i=this.s.criteria;t<i.length;t++){var n=i[t];if(n.criteria instanceof e&&n.criteria.s.filled||n.criteria instanceof l&&n.criteria.checkFilled())return!0}return!1},l.prototype.count=function(){for(var t=0,i=0,e=this.s.criteria;i<e.length;i++){var n=e[i];n.criteria instanceof l?t+=n.criteria.count():t++}return t},l.prototype._addPrevGroup=function(t){var i=this.s.criteria.length,e=new l(this.s.dt,this.c,this.s.topGroup,i,!0,this.s.depth+1);this.s.criteria.push({criteria:e,index:i,logic:e.s.logic}),e.rebuild(t),this.s.criteria[i].criteria=e,a(this.s.topGroup).trigger("dtsb-redrawContents"),this._setGroupListeners(e)},l.prototype._addPrevCriteria=function(t){var i=this.s.criteria.length,n=new e(this.s.dt,this.s.opts,this.s.topGroup,i,this.s.depth);n.populate(),this.s.criteria.push({criteria:n,index:i}),n.rebuild(t),this.s.criteria[i].criteria=n,a(this.s.topGroup).trigger("dtsb-redrawContents")},l.prototype._andSearch=function(t,i){if(0===this.s.criteria.length)return!0;for(var n=0,s=this.s.criteria;n<s.length;n++){var o=s[n];if((!(o.criteria instanceof e)||o.criteria.s.filled)&&!o.criteria.search(t,i))return!1}return!0},l.prototype._orSearch=function(t,i){if(0===this.s.criteria.length)return!0;for(var n=!1,s=0,o=this.s.criteria;s<o.length;s++){var a=o[s];if(a.criteria instanceof e&&a.criteria.s.filled){if(n=!0,a.criteria.search(t,i))return!0}else if(a.criteria instanceof l&&a.criteria.checkFilled()&&(n=!0,a.criteria.search(t,i)))return!0}return!n},l.prototype._removeCriteria=function(t,i){if(void 0===i&&(i=!1),1>=this.s.criteria.length&&this.s.isChild)this.destroy();else{for(var e=void 0,n=0;n<this.s.criteria.length;n++)this.s.criteria[n].index===t.s.index&&(!i||this.s.criteria[n].criteria instanceof l)&&(e=n);for(void 0!==e&&this.s.criteria.splice(e,1),n=0;n<this.s.criteria.length;n++)this.s.criteria[n].index=n,this.s.criteria[n].criteria.s.index=n}},l.prototype._setCriteriaListeners=function(t){var i=this;a(t.dom.delete).unbind("click").on("click",(function(){i._removeCriteria(t),a(t.dom.container).remove();for(var n=0,s=i.s.criteria;n<s.length;n++){var o=s[n];o.criteria instanceof e&&o.criteria.updateArrows(1<i.s.criteria.length)}return t.destroy(),i.s.dt.draw(),a(i.s.topGroup).trigger("dtsb-redrawContents"),a(i.s.topGroup).trigger("dtsb-updateTitle"),!1})),a(t.dom.right).unbind("click").on("click",(function(){var e=t.s.index,n=new l(i.s.dt,i.s.opts,i.s.topGroup,t.s.index,!0,i.s.depth+1);return n.addCriteria(t),i.s.criteria[e].criteria=n,i.s.criteria[e].logic="AND",a(i.s.topGroup).trigger("dtsb-redrawContents"),i._setGroupListeners(n),!1})),a(t.dom.left).unbind("click").on("click",(function(){i.s.toDrop=new e(i.s.dt,i.s.opts,i.s.topGroup,t.s.index),i.s.toDrop.s=t.s,i.s.toDrop.c=t.c,i.s.toDrop.classes=t.classes,i.s.toDrop.populate();var n=i.s.toDrop.s.index;return a(i.dom.container).trigger("dtsb-dropCriteria"),t.s.index=n,i._removeCriteria(t),a(i.s.topGroup).trigger("dtsb-redrawContents"),i.s.dt.draw(),!1}))},l.prototype._setClearListener=function(){var t=this;a(this.dom.clear).unbind("click").on("click",(function(){return t.s.isChild?(t.destroy(),a(t.s.topGroup).trigger("dtsb-updateTitle"),a(t.s.topGroup).trigger("dtsb-redrawContents"),!1):(a(t.dom.container).trigger("dtsb-clearContents"),!1)}))},l.prototype._setGroupListeners=function(t){var i=this;a(t.dom.add).unbind("click").on("click",(function(){return i.setupLogic(),a(i.dom.container).trigger("dtsb-add"),!1})),a(t.dom.container).unbind("dtsb-add").on("dtsb-add",(function(){return i.setupLogic(),a(i.dom.container).trigger("dtsb-add"),!1})),a(t.dom.container).unbind("dtsb-destroy").on("dtsb-destroy",(function(){return i._removeCriteria(t,!0),a(t.dom.container).remove(),i.setupLogic(),!1})),a(t.dom.container).unbind("dtsb-dropCriteria").on("dtsb-dropCriteria",(function(){var e=t.s.toDrop;return e.s.index=t.s.index,e.updateArrows(1<i.s.criteria.length,!1),i.addCriteria(e,!1),!1})),t.setListeners()},l.prototype._setup=function(){this.setListeners(),a(this.dom.add).text(this.s.dt.i18n("searchBuilder.add",this.c.i18n.add)),a(this.dom.logic).text("OR"===this.c.logic?this.s.dt.i18n("searchBuilder.logicOr",this.c.i18n.logicOr):this.s.dt.i18n("searchBuilder.logicAnd",this.c.i18n.logicAnd)),this.s.logic="OR"===this.c.logic?"OR":"AND",this.c.greyscale&&a(this.dom.logic).addClass(this.classes.greyscale),a(this.dom.logicContainer).append(this.dom.logic).append(this.dom.clear),this.s.isChild&&a(this.dom.container).append(this.dom.logicContainer),a(this.dom.container).append(this.dom.add)},l.prototype._setLogicListener=function(){var t=this;a(this.dom.logic).unbind("click").on("click",(function(){t._toggleLogic(),t.s.dt.draw();for(var i=0,e=t.s.criteria;i<e.length;i++)e[i].criteria.setListeners()}))},l.prototype._toggleLogic=function(){"OR"===this.s.logic?(this.s.logic="AND",a(this.dom.logic).text(this.s.dt.i18n("searchBuilder.logicAnd",this.c.i18n.logicAnd))):"AND"===this.s.logic&&(this.s.logic="OR",a(this.dom.logic).text(this.s.dt.i18n("searchBuilder.logicOr",this.c.i18n.logicOr)))},l.version="1.1.0",l.classes={add:"dtsb-add",button:"dtsb-button",clearGroup:"dtsb-clearGroup",greyscale:"dtsb-greyscale",group:"dtsb-group",inputButton:"dtsb-iptbtn",logic:"dtsb-logic",logicContainer:"dtsb-logicContainer"},l.defaults={columns:!0,conditions:{date:e.dateConditions,html:e.stringConditions,"html-num":e.numConditions,"html-num-fmt":e.numFmtConditions,luxon:e.luxonDateConditions,moment:e.momentDateConditions,num:e.numConditions,"num-fmt":e.numFmtConditions,string:e.stringConditions},depthLimit:!1,enterSearch:!1,filterChanged:void 0,greyscale:!1,i18n:{add:"Add Condition",button:{0:"Search Builder",_:"Search Builder (%d)"},clearAll:"Clear All",condition:"Condition",data:"Data",deleteTitle:"Delete filtering rule",leftTitle:"Outdent criteria",logicAnd:"And",logicOr:"Or",rightTitle:"Indent criteria",title:{0:"Custom Search Builder",_:"Custom Search Builder (%d)"},value:"Value",valueJoiner:"and"},logic:"AND",orthogonal:{display:"display",search:"filter"},preDefined:!1},d=l;var u,c,h,p=function(t,i){var e=this;if(!c||!c.versionCheck||!c.versionCheck("1.10.0"))throw Error("SearchBuilder requires DataTables 1.10 or newer");var n=new c.Api(t);if(this.classes=u.extend(!0,{},p.classes),this.c=u.extend(!0,{},p.defaults,i),this.dom={clearAll:u('<button type="button">'+n.i18n("searchBuilder.clearAll",this.c.i18n.clearAll)+"</button>").addClass(this.classes.clearAll).addClass(this.classes.button).attr("type","button"),container:u("<div/>").addClass(this.classes.container),title:u("<div/>").addClass(this.classes.title),titleRow:u("<div/>").addClass(this.classes.titleRow),topGroup:void 0},this.s={dt:n,opts:i,search:void 0,topGroup:void 0},void 0===n.settings()[0]._searchBuilder)return n.settings()[0]._searchBuilder=this,this.s.dt.settings()[0]._bInitComplete?this._setUp():n.one("init.dt",(function(){e._setUp()})),this};p.prototype.getDetails=function(){return this.s.topGroup.getDetails()},p.prototype.getNode=function(){return this.dom.container},p.prototype.rebuild=function(t){return u(this.dom.clearAll).click(),null==t||(this.s.topGroup.rebuild(t),this.s.dt.draw(),this.s.topGroup.setListeners()),this},p.prototype._applyPreDefDefaults=function(t){var i=this;void 0!==t.criteria&&void 0===t.logic&&(t.logic="AND");for(var e=function(t){void 0!==t.criteria?t=n._applyPreDefDefaults(t):n.s.dt.columns().every((function(e){i.s.dt.settings()[0].aoColumns[e].sTitle===t.data&&(t.dataIdx=e)}))},n=this,s=0,o=t.criteria;s<o.length;s++)e(o[s]);return t},p.prototype._setUp=function(t){var i=this;if(void 0===t&&(t=!0),u.fn.DataTable.Api.registerPlural("columns().type()","column().type()",(function(){return this.iterator("column",(function(t,i){return t.aoColumns[i].sType}),1)})),!c.DateTime){var e=this.s.dt.columns().type().toArray(),n=this.s.dt.columns().toArray();void 0===e&&(this.s.dt.draw(),e=this.s.dt.columns().type().toArray());for(var s=0;s<n[0].length;s++){var o=e[n[0][s]];if((!0===this.c.columns||Array.isArray(this.c.columns)&&-1!==this.c.columns.indexOf(s))&&(-1!==o.indexOf("date")||-1!==o.indexOf("moment")||-1!==o.indexOf("luxon")))throw alert("SearchBuilder Requires DateTime when used with dates."),Error("SearchBuilder requires DateTime")}}this.s.topGroup=new d(this.s.dt,this.c,void 0),this._setClearListener(),this.s.dt.on("stateSaveParams",(function(t,e,n){n.searchBuilder=i.getDetails(),n.page=i.s.dt.page()})),this._build(),t&&(null!==(t=this.s.dt.state.loaded())&&void 0!==t.searchBuilder?(this.s.topGroup.rebuild(t.searchBuilder),u(this.s.topGroup.dom.container).trigger("dtsb-redrawContents"),this.s.dt.page(t.page).draw("page"),this.s.topGroup.setListeners()):!1!==this.c.preDefined&&(this.c.preDefined=this._applyPreDefDefaults(this.c.preDefined),this.rebuild(this.c.preDefined))),this._setEmptyListener(),this.s.dt.state.save()},p.prototype._updateTitle=function(t){u(this.dom.title).html(this.s.dt.i18n("searchBuilder.title",this.c.i18n.title,t))},p.prototype._build=function(){var t=this;u(this.dom.clearAll).remove(),u(this.dom.container).empty();var i=this.s.topGroup.count();this._updateTitle(i),u(this.dom.titleRow).append(this.dom.title),u(this.dom.container).append(this.dom.titleRow),this.dom.topGroup=this.s.topGroup.getNode(),u(this.dom.container).append(this.dom.topGroup),this._setRedrawListener();var e=this.s.dt.table(0).node();-1===u.fn.dataTable.ext.search.indexOf(this.s.search)&&(this.s.search=function(i,n,s){return i.nTable!==e||t.s.topGroup.search(n,s)},u.fn.dataTable.ext.search.push(this.s.search)),this.s.dt.on("destroy.dt",(function(){u(t.dom.container).remove(),u(t.dom.clearAll).remove();for(var i=u.fn.dataTable.ext.search.indexOf(t.s.search);-1!==i;)u.fn.dataTable.ext.search.splice(i,1),i=u.fn.dataTable.ext.search.indexOf(t.s.search)}))},p.prototype._checkClear=function(){0<this.s.topGroup.s.criteria.length?(u(this.dom.clearAll).insertAfter(this.dom.title),this._setClearListener()):u(this.dom.clearAll).remove()},p.prototype._filterChanged=function(t){var i=this.c.filterChanged;"function"==typeof i&&i(t,this.s.dt.i18n("searchBuilder.button",this.c.i18n.button,t))},p.prototype._setClearListener=function(){var t=this;u(this.dom.clearAll).unbind("click"),u(this.dom.clearAll).on("click",(function(){return t.s.topGroup=new d(t.s.dt,t.c,void 0),t._build(),t.s.dt.draw(),t.s.topGroup.setListeners(),u(t.dom.clearAll).remove(),t._setEmptyListener(),t._filterChanged(0),!1}))},p.prototype._setRedrawListener=function(){var t=this;u(this.s.topGroup.dom.container).unbind("dtsb-redrawContents"),u(this.s.topGroup.dom.container).on("dtsb-redrawContents",(function(){t._checkClear(),t.s.topGroup.redrawContents(),t.s.topGroup.setupLogic(),t._setEmptyListener();var i=t.s.topGroup.count();t._updateTitle(i),t._filterChanged(i),t.s.dt.state.save()})),u(this.s.topGroup.dom.container).unbind("dtsb-redrawLogic"),u(this.s.topGroup.dom.container).on("dtsb-redrawLogic",(function(){t.s.topGroup.redrawLogic();var i=t.s.topGroup.count();t._updateTitle(i),t._filterChanged(i)})),u(this.s.topGroup.dom.container).on("dtsb-add",(function(){var i=t.s.topGroup.count();t._updateTitle(i),t._filterChanged(i)})),u(this.s.dt).on("postEdit postCreate postRemove",(function(){t.s.topGroup.redrawContents()})),u(this.s.topGroup.dom.container).unbind("dtsb-clearContents"),u(this.s.topGroup.dom.container).on("dtsb-clearContents",(function(){t._setUp(!1),t._filterChanged(0),t.s.dt.draw()})),u(this.s.topGroup.dom.container).on("dtsb-updateTitle",(function(){var i=t.s.topGroup.count();t._updateTitle(i),t._filterChanged(i)}))},p.prototype._setEmptyListener=function(){var t=this;u(this.s.topGroup.dom.add).on("click",(function(){t._checkClear()})),u(this.s.topGroup.dom.container).on("dtsb-destroy",(function(){u(t.dom.clearAll).remove()}))},p.version="1.1.0",p.classes={button:"dtsb-button",clearAll:"dtsb-clearAll",container:"dtsb-searchBuilder",inputButton:"dtsb-iptbtn",title:"dtsb-title",titleRow:"dtsb-titleRow"},p.defaults={columns:!0,conditions:{date:e.dateConditions,html:e.stringConditions,"html-num":e.numConditions,"html-num-fmt":e.numFmtConditions,luxon:e.luxonDateConditions,moment:e.momentDateConditions,num:e.numConditions,"num-fmt":e.numFmtConditions,string:e.stringConditions},depthLimit:!1,enterSearch:!1,filterChanged:void 0,greyscale:!1,i18n:{add:"Add Condition",button:{0:"Search Builder",_:"Search Builder (%d)"},clearAll:"Clear All",condition:"Condition",conditions:{array:{contains:"Contains",empty:"Empty",equals:"Equals",not:"Not",notEmpty:"Not Empty",without:"Without"},date:{after:"After",before:"Before",between:"Between",empty:"Empty",equals:"Equals",not:"Not",notBetween:"Not Between",notEmpty:"Not Empty"},number:{between:"Between",empty:"Empty",equals:"Equals",gt:"Greater Than",gte:"Greater Than Equal To",lt:"Less Than",lte:"Less Than Equal To",not:"Not",notBetween:"Not Between",notEmpty:"Not Empty"},string:{contains:"Contains",empty:"Empty",endsWith:"Ends With",equals:"Equals",not:"Not",notEmpty:"Not Empty",startsWith:"Starts With"}},data:"Data",deleteTitle:"Delete filtering rule",leftTitle:"Outdent criteria",logicAnd:"And",logicOr:"Or",rightTitle:"Indent criteria",title:{0:"Custom Search Builder",_:"Custom Search Builder (%d)"},value:"Value",valueJoiner:"and"},logic:"AND",orthogonal:{display:"display",search:"filter"},preDefined:!1},h=p;var f=function(n,s,o){function l(t,i){var e=new p.Api(t),n=i||e.init().searchBuilder||p.defaults.searchBuilder;return new h(e,n).getNode()}u=n,c=n.fn.DataTable,a=n,r=n.fn.dataTable,t=n;var p=i=n.fn.dataTable;n.fn.dataTable.SearchBuilder=h,n.fn.DataTable.SearchBuilder=h,n.fn.dataTable.Group=d,n.fn.DataTable.Group=d,n.fn.dataTable.Criteria=e,n.fn.DataTable.Criteria=e,s=n.fn.dataTable.Api.register,n.fn.dataTable.ext.searchBuilder={conditions:{}},n.fn.dataTable.ext.buttons.searchBuilder={action:function(t,i,e,n){t.stopPropagation(),this.popover(n._searchBuilder.getNode(),{align:"dt-container"}),void 0!==n._searchBuilder.s.topGroup&&n._searchBuilder.s.topGroup.dom.container.trigger("dtsb-redrawContents")},config:{},init:function(t,i,e){var s=new n.fn.dataTable.SearchBuilder(t,n.extend({filterChanged:function(e,n){t.button(i).text(n)}},e.config));t.button(i).text(e.text||t.i18n("searchBuilder.button",s.c.i18n.button,0)),e._searchBuilder=s},text:null},s("searchBuilder.getDetails()",(function(){var t=this.context[0];return t._searchBuilder?t._searchBuilder.getDetails():null})),s("searchBuilder.rebuild()",(function(t){var i=this.context[0];return void 0===i._searchBuilder?null:(i._searchBuilder.rebuild(t),this)})),s("searchBuilder.container()",(function(){var t=this.context[0];return t._searchBuilder?t._searchBuilder.getNode():null})),n(o).on("preInit.dt.dtsp",(function(t,i){"dt"===t.namespace&&(i.oInit.searchBuilder||p.defaults.searchBuilder)&&(i._searchBuilder||l(i))})),p.ext.feature.push({cFeature:"Q",fnInit:l}),p.ext.features&&p.ext.features.register("searchBuilder",l)};"function"==typeof define&&define.amd?define(["jquery","datatables.net"],(function(t){return f(t,window,document)})):"object"==typeof exports?module.exports=function(t,i){return t||(t=window),i&&i.fn.dataTable||(i=require("datatables.net")(t,i).$),f(i,t,t.document)}:f(window.jQuery,window,document)}();